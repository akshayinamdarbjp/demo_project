---
# tasks file for install_jenkins

  - name: Ensure the jenkins apt repository key is installed
    apt_key: url=https://pkg.jenkins.io/debian-stable/jenkins.io.key state=present
    become: yes

  - name: Ensure the repository is configured
    apt_repository: repo='deb https://pkg.jenkins.io/debian-stable binary/' state=present
    become: yes

  - name: Ensure Jenkins is Installed
    apt: name=jenkins update_cache=yes
    become: yes

  - name: Ensure Jenkins is Running
    service: name=jenkins state=started

  - name: Ensure Jenkins is Running after reboot
    service: name=jenkins state=yes

  - name: Printing admin Password
    shell: | 
      AdminPass=`sudo cat /var/lib/jenkins/secrets/initialAdminPassword`
      echo $AdminPass  

